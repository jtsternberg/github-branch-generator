<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>GitHub Branch Generator</title>
	<style>
		body {
			width: 320px;
			padding: 20px;
			font-family: system-ui, -apple-system, sans-serif;
			font-size: 14px;
		}
		.section {
			margin-bottom: 20px;
		}
		.section:last-of-type {
			margin-bottom: 0;
		}
		label {
			display: block;
			margin-bottom: 10px;
			font-weight: 500;
		}
		input[type="password"], input[type="text"] {
			width: 100%;
			padding: 8px;
			border: 1px solid #ddd;
			border-radius: 4px;
			box-sizing: border-box;
		}
		button {
			background: #0969da;
			color: white;
			border: none;
			padding: 10px 16px;
			border-radius: 6px;
			cursor: pointer;
			font-size: 14px;
			margin-right: 8px;
		}
		button:hover {
			background: #0860ca;
		}
		button.secondary {
			background: #f6f8fa;
			color: #24292f;
			border: 1px solid #d0d7de;
		}
		button.secondary:hover {
			background: #f3f4f6;
		}
		.status {
			margin-top: 10px;
			padding: 8px;
			border-radius: 4px;
			font-size: 12px;
		}
		.status.success {
			background: #dafbe1;
			color: #116329;
		}
		.status.error {
			background: #ffebe9;
			color: #d1242f;
		}
		.help-text {
			font-size: 12px;
			color: #656d76;
			margin-top: 6px;
		}
		.loading {
			display: none;
			align-items: center;
			gap: 8px;
			margin-top: 10px;
			padding: 8px;
			background: #f6f8fa;
			border-radius: 4px;
			font-size: 12px;
			color: #656d76;
		}
		.spinner {
			width: 16px;
			height: 16px;
			border: 2px solid #e1e4e8;
			border-top: 2px solid #0969da;
			border-radius: 50%;
			animation: spin 1s linear infinite;
		}
		@keyframes spin {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		}
		button:disabled {
			background: #8c959f;
			cursor: not-allowed;
		}
		button.secondary:disabled {
			background: #f6f8fa;
			color: #8c959f;
			border-color: #d0d7de;
		}
		.result-section {
			display: none;
			margin-top: 16px;
			padding: 12px;
			background: #f6f8fa;
			border: 1px solid #d0d7de;
			border-radius: 6px;
		}
		.result-label {
			font-size: 12px;
			font-weight: 500;
			color: #24292f;
			margin-bottom: 6px;
		}
		.result-container {
			display: flex;
			gap: 6px;
		}
		.branch-name {
			flex: 1;
			padding: 6px 8px;
			font-family: ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
			font-size: 12px;
			background: white;
			border: 1px solid #d0d7de;
			border-radius: 4px;
			color: #24292f;
			word-break: break-all;
		}
		.copy-btn {
			padding: 6px 12px;
			font-size: 12px;
			background: #f6f8fa;
			border: 1px solid #d0d7de;
			border-radius: 4px;
			cursor: pointer;
			color: #24292f;
		}
		.copy-btn:hover {
			background: #f3f4f6;
		}
		a {
			color: #0969da;
			text-decoration: none;
		}
		a:hover {
			text-decoration: underline;
		}

		/* Dark mode support */
		@media (prefers-color-scheme: dark) {
			body {
				background: #0d1117;
				color: #f0f6fc;
			}
			input[type="password"], input[type="text"] {
				background: #21262d;
				border-color: #30363d;
				color: #f0f6fc;
			}
			button {
				background: #238636;
				border-color: #238636;
			}
			button:hover {
				background: #2ea043;
			}
			button.secondary {
				background: #21262d;
				color: #f0f6fc;
				border-color: #30363d;
			}
			button.secondary:hover {
				background: #30363d;
			}
			button:disabled {
				background: #6e7681;
			}
			button.secondary:disabled {
				background: #21262d;
				color: #6e7681;
				border-color: #30363d;
			}
			.status.success {
				background: #1b4332;
				color: #7ce38b;
			}
			.status.error {
				background: #4c1d1d;
				color: #f97583;
			}
			.help-text {
				color: #8b949e;
			}
			.loading {
				background: #21262d;
				color: #8b949e;
			}
			.spinner {
				border-color: #30363d;
				border-top-color: #238636;
			}
			.result-section {
				background: #21262d;
				border-color: #30363d;
			}
			.result-label {
				color: #f0f6fc;
			}
			.branch-name {
				background: #0d1117;
				border-color: #30363d;
				color: #f0f6fc;
			}
			.copy-btn {
				background: #21262d;
				border-color: #30363d;
				color: #f0f6fc;
			}
			.copy-btn:hover {
				background: #30363d;
			}
			a {
				color: #58a6ff;
			}
			a:hover {
				color: #79c0ff;
			}
		}
	</style>
</head>
<body>
	<div class="section">
		<label for="api-key">Gemini API Key (Optional)</label>
		<input type="password" id="api-key" placeholder="Enter your Gemini API key">
		<div class="help-text">
			For AI-generated concise branch names. Get your key from
			<a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a>
		</div>
	</div>

	<div class="section">
		<button id="save-settings">Save Settings</button>
		<button id="generate-branch" class="secondary">Generate Branch</button>
	</div>

	<div class="section">

		<div id="loading" class="loading">
			<div class="spinner"></div>
			<span id="loading-text">Generating branch name with AI...</span>
		</div>

		<div id="result-section" class="result-section">
			<div class="result-label">Generated Branch Name:</div>
			<div class="result-container">
				<div id="branch-name" class="branch-name"></div>
				<button id="copy-branch" class="copy-btn">Copy</button>
			</div>
		</div>

		<div id="status" class="status" style="display: none;"></div>
	</div>

	<script src="dist/popup.js"></script>
</body>
</html>